<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>BrainSprint</title>
  <link rel="stylesheet" href="../css/brain_style.css">
  <link rel="stylesheet" href="../css/dashboard_style.css">
  <link rel="icon" href="../images/brain.png">
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
  <!-- <script type="text/javascript" src="../js/setup-firebase.js"></script> -->
</head>

<body>
  <div class="pagewrap">
    <div id="div_head">
      <div id="div_logo_bar">

        <div id="div_logo">
          <a href="dashboard.html"><img src="../images/brain.png" alt="brain_logo" id="brain_logo"></a>
          <h1 id="brain_name">BrainSprint</h1>
          <img src="../images/profile_icon.png" alt="profile_icon" id="profile_icon">
        </div>
      </div>

      <nav id="div_nav_bar">
        <a id="nav_dashboard" class="nav_options" href="dashboard.html">Dashboard</a>
        <a id="nav_logout" class="nav_options" href="homepage.html">Log Out</a>
        <a id="nav_help" class="nav_options" href="help.html">Help </a>
      </nav>
    </div>

    <div id="div_pagename">
      <h1 id="pagename">BrainLaps</h1>
    </div>



    <div class="div_body_base">
      <!-- Navigation Bar -->
      <div id="body_options_bar">
        <ul id="body_options_nav">
          <li id="option_your_room" class="body_options" onclick="yourRoom_up()">Your Room</li>
          <li id="option_analytics" class="body_options" onclick="analytics_up()">Analytics</li>
          <li id="option_joined_room" class="body_options" onclick="joinedRoom_up()">Joined Room</li>
        </ul>
      </div>

      <!-- Dashboard Body -->
      <div id="div_body_yourRoom" class="div_body">

        <!-- Create Room Page -->
        <div id="created_room_732814" class="room_created">
          <!-- Created Room Details -->
          <div id="room_details_732814" class="room_details">
            <!-- <h3 id="room_name_732814" class="room_name">Team Veggie</h3>
            <p id="topic_732814" class="topic">Topic: Bananas in Pajamas </p>
            <p id="room_number_732814" class="room_number">Room Number: 732814</p> -->

            <h3 id="room_name_732814" class="room_name"></h3>
            <p id="topic_732814" class="topic">Topic: </p>
            <p id="room_number_732814" class="room_number">Room Number: </p>

          </div>
          <!-- Start Button -->
          <div id="created_options_732814" class="action_options">
            <img src="../images/options_icon.png" alt="options_icon" id="options_icon_732814" class="icon_button">
            <button type="button" name="Start" id="button_start_732814" id="button_start" class="button_create_room_start" onclick="location.href='activity.html'">Start</button>
          </div>
        </div>
        <!-- Create Room Button -->
        <a href="create.html"><img src="../images/add.png" alt="add_button" id="add_button"></a>
      </div>

      <!-- Analytics Page -->
      <div id="div_body_analytics" class="div_body">

        <div id="analytics_room_732814" class="room_analytics">

          <!-- Room Details -->
          <div id="room_details_732814" class="room_details">
            <h3 id="room_name_732815" class="room_name">Team Veggie</h3>
            <p id="topic_732815" class="topic">Topic: Bananas in Pajamas </p>
            <p id="room_number_732815" class="room_number">Room Number: 732814</p>
          </div>

          <!-- Analytics Button -->
          <div id="analytics_options_732814" class="action_options">
            <img src="../images/options_icon.png" alt="options_icon" id="options_icon_732814" class="icon_button">
            <button type="button" name="Start" id="button_start_732815" class="button_analytics" onclick="location.href='analytics.html'">See Analytics</button>
          </div>
        </div>
      </div>

      <!-- Joined Rooms Page-->
      <div id="div_body_joinedRoom" class="div_body">
        <!-- Join Room Button -->
        <a onclick="join_room_pop()"><img src="../images/add.png" alt="add_button" id="join_button"></a>

        <!-- Join Room Popup -->
        <div class="join_room_popup">
          <!-- Join Room Popup Content -->
          <div class="join_room_popup_content">
            <span class="close" onclick="close_pop()">&times;</span>
            <form class="form_join_room" action="dashboard.html" method="post">
              <!-- <legend>Enter Room Number</legend> -->
              <input id="input_text" type="text" name="join_number" placeholder="Enter Room Number">
              <input id="input_button" type="submit" name="Enter" value="submit">
            </form>
          </div>
        </div>
      </div>


    </div>

    <div class="bottom">
      <div class="bottom_bar">

      </div>
    </div>

  </div>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.5.6/firebase.js"></script>

  <script type="text/javascript">
    // Create Room Page Display
    function yourRoom_up() {
      document.getElementById("div_body_yourRoom").style.display = "block";
      document.getElementById("div_body_analytics").style.display = "none";
      document.getElementById("div_body_joinedRoom").style.display = "none";

      document.getElementById("option_your_room").style.backgroundColor = "rgb(134, 190, 131)";
      document.getElementById("option_analytics").style.backgroundColor = "rgb(226, 226, 226)";
      document.getElementById("option_joined_room").style.backgroundColor = "rgb(226, 226, 226)";
    }

    // Analytics Room Page Display
    function analytics_up() {
      document.getElementById("div_body_yourRoom").style.display = "none";
      document.getElementById("div_body_analytics").style.display = "block";
      document.getElementById("div_body_joinedRoom").style.display = "none";

      document.getElementById("option_your_room").style.backgroundColor = "rgb(226, 226, 226)";
      document.getElementById("option_analytics").style.backgroundColor = "rgb(134, 190, 131)";
      document.getElementById("option_joined_room").style.backgroundColor = "rgb(226, 226, 226)";
    }

    // Join Room Page Display
    function joinedRoom_up() {
      document.getElementById("div_body_yourRoom").style.display = "none";
      document.getElementById("div_body_analytics").style.display = "none";
      document.getElementById("div_body_joinedRoom").style.display = "block";

      document.getElementById("option_your_room").style.backgroundColor = "rgb(226, 226, 226)";
      document.getElementById("option_analytics").style.backgroundColor = "rgb(226, 226, 226)";
      document.getElementById("option_joined_room").style.backgroundColor = "rgb(134, 190, 131)";
    }

    // Join Room Pop Up Functions
    var join_room = $(".join_room_popup");
    var span = document.getElementsByClassName("close")[0];

    // Closes Join Room Popup
    function close_pop() {
      join_room.css("display", "none");
      console.log("close function");
    }

    // Brings up Join Room Popup
    function join_room_pop() {
      join_room.css("display", "block");
      console.log(fm);
      console.log("join room function");
    }


// Populates the Crete Page ----------------------------------------------------------------------
var config = {
  apiKey: "AIzaSyAZwdjR0wpNxj0yG0YLN1ueuMa6L-NLd2A",
  authDomain: "brainsprint-92cf3.firebaseapp.com",
  databaseURL: "https://brainsprint-92cf3.firebaseio.com",
  projectId: "brainsprint-92cf3",
  storageBucket: "brainsprint-92cf3.appspot.com",
  messagingSenderId: "117462095616"
};

firebase.initializeApp(config);

var db = firebase.database();

var room_name = document.getElementById('room_name_732814')
var topic = document.getElementById('topic_732814')
var owner = document.getElementById('room_number_732814')


var db_room_name = db.ref().child("roomList").child("roomCode").child("roomName");
var db_topic = db.ref().child("roomList").child("roomCode").child("topic");
var db_owner = db.ref().child("roomList").child("roomCode").child("owner");


db_room_name.on('value', snap => room_name.innerText = snap.val());
db_topic.on('value', snap => topic.innerText = snap.val());
db_owner.on('value', snap => owner.innerText = snap.val());


//-------------------------------------------------------------------------------------------------


  </script>

</body>

</html>
